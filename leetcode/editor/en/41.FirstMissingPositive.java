/**
 * Given an unsorted integer array nums. Return the smallest positive integer that
 * is not present in nums.
 * <p>
 * You must implement an algorithm that runs in O(n) time and uses O(1) auxiliary
 * space.
 * <p>
 * <p>
 * Example 1:
 * <p>
 * <p>
 * Input: nums = [1,2,0]
 * Output: 3
 * Explanation: The numbers in the range [1,2] are all in the array.
 * <p>
 * <p>
 * Example 2:
 * <p>
 * <p>
 * Input: nums = [3,4,-1,1]
 * Output: 2
 * Explanation: 1 is in the array but 2 is missing.
 * <p>
 * <p>
 * Example 3:
 * <p>
 * <p>
 * Input: nums = [7,8,9,11,12]
 * Output: 1
 * Explanation: The smallest positive integer 1 is missing.
 * <p>
 * <p>
 * <p>
 * Constraints:
 * <p>
 * <p>
 * 1 <= nums.length <= 10âµ
 * -2Â³Â¹ <= nums[i] <= 2Â³Â¹ - 1
 * <p>
 * <p>
 * Related Topics Array Hash Table ğŸ‘ 16821 ğŸ‘ 1861
 */
       
/*
 2024-07-24 01:13:54
*/

class FirstMissingPositive {
    public static void main(String[] args) {
        Solution solution = new FirstMissingPositive().new Solution();
    }

    //leetcode submit region begin(Prohibit modification and deletion)
    class Solution {
        /**
         * å¦‚æœæš´åŠ›è§£æ³•ï¼šä»1åˆ°nå¼€å§‹è¯•æ¢ï¼Œæ¨æ–­ res å¿…å®š è½åœ¨åŒºé—´ [1,n] æˆ–è€…ç­‰äºn+1, å¦‚æœç›´æ¥æ’åºï¼Œä¸€èˆ¬æ—¶é—´å¤æ‚åº¦ä¸º o(nlogn), ä¼šè¶…æ—¶
         * <p>
         * é‚£ä¹ˆå¯ä»¥é€šè¿‡indexing sort â€œäº¤æ¢â€æ³•ï¼Œæ‰¾åˆ°æœ€å°æ­£æ•´æ•°ï¼Œo(n)çš„æ˜¯æ—¶é—´å¤æ‚åº¦
         *
         * ä¸»è¦æ€æƒ³ï¼š
         * è¿™ä¸ªç®—æ³•çš„ç›®æ ‡æ˜¯é‡æ–°æ’åˆ—æ•°ç»„ï¼Œä½¿å¾—æ¯ä¸ªæ­£æ•´æ•°
         * iï¼ˆ1<=i<=nï¼‰è¢«æ”¾åœ¨ç´¢å¼•i-1çš„ä½ç½®ä¸Šã€‚
         * å®Œæˆé‡æ’åï¼Œç¬¬ä¸€ä¸ªæ»¡è¶³nums[i]!=i+1æ¡ä»¶çš„ ç´¢å¼•iå°±æ˜¯è¦æ‰¾çš„ç­”æ¡ˆ
         *
         * æˆ–è€…èªª ç´¢å¼•èˆ‡å€¼çš„é—œä¿‚ï¼šï¼ˆæˆ–è€…è¯´æ­£æ•´æ•° i-1 è¢«æ”¾åœ¨içš„ä½ç½®ä¸Šï¼Œç´¢å¼•åŸºäº0å¼€å§‹ï¼Œä»£ç ä¸­å°±æ˜¯nums[i] == nums[nums[i] - 1]ï¼‰
         * ï¼ˆå¤§æ–¼nçš„æ•¸ï¼Œå°±ç„¡é ˆæ’åºï¼Œåªæ’åºè™•ç†ã€1ï¼Œnã€‘ç¯„åœå…§ç‚ºæ•¸ï¼‰
         *https://github.com/wisdompeak/LeetCode/blob/master/Greedy/041.First-Missing-Positive/Readme.md
         *
         *
         * 041.First-Missing-Positive
         * é¦–å…ˆï¼Œå°†numsæ•°ç»„ä¹‹å‰æ·»åŠ ä¸€ä¸ªé›¶å…ƒç´ ã€‚äºæ˜¯æœ¬é¢˜çš„ä¸€ä¸ªæ€è·¯æ˜¯ï¼šå¦‚æœå°è¯•æŠŠæ­£æ•´æ•°1~Nå°½å¯èƒ½åœ°æŒ‰ç…§é¡ºåºæ”¾å…¥nums[1]~nums[N]åï¼Œé‚£ä¹ˆä»å¤´åˆ°å°¾å†éå†ä¸€énumsï¼Œæ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªnums[i]!=içš„æ•°ï¼Œå°±æ˜¯æ‰€æ±‚çš„ç»“æœã€‚
         *
         * é‚£ä¹ˆå¦‚ä½•å°è¯•one passå°±æŠŠæ­£æ•´æ•°1~Nå°½å¯èƒ½åœ°æŒ‰ç…§é¡ºåºæ”¾å…¥nums[1]~nums[N]å‘¢ï¼Ÿè¿™å°±æ˜¯ç»å…¸çš„array indexingçš„ç®—æ³•ã€‚éå†æ‰€æœ‰å…ƒç´ çš„æ—¶å€™ï¼Œå‘ç°å¦‚æœnums[i]!=iæ—¶ï¼Œè¯´æ˜å½“å‰çš„nums[i]è¿™ä¸ªæ•°æ²¡æœ‰è¢«æ”¾ç½®åœ¨åˆé€‚çš„ä½ç½®ï¼Œæ ¹æ®å¯¹åº”çš„è§„åˆ™ï¼Œå®ƒåº”è¯¥è¢«æ”¾åœ¨nums[nums[i]]è¿™ä¸ªä½ç½®ã€‚
         *
         * äºæ˜¯æˆ‘ä»¬æŒç»­äº¤æ¢nums[i]å’Œnums[nums[i]]ã€‚æ¯ä¸€æ¬¡äº¤æ¢çš„ç»“æœæ˜¯ï¼šæŠŠnums[i]é€åˆ°äº†å®ƒåº”è¯¥åœ¨çš„ä½ç½®ï¼›åŒæ—¶iä½ç½®çš„å…ƒç´ åˆæœ‰äº†æ–°çš„å€¼ï¼Œå¯ä»¥å†æ¬¡è¿›è¡Œäº¤æ¢ã€‚å¦‚æœè¿™æ ·çš„æ­¥éª¤æŒç»­åˆ° nums[i]==iï¼ˆè¯´æ˜ç¬¬iä¸ªå…ƒç´ çš„ä½ç½®å·²ç»å¾—åˆ°æ»¡è¶³äº†ï¼‰æˆ–è€…nums[nums[i]]==nums[i]ï¼ˆè¯´æ˜ç¬¬nums[i]ä¸ªå…ƒç´ çš„ä½ç½®ä¹Ÿå·²ç»å¾—åˆ°äº†æ»¡è¶³ï¼‰ï¼Œå°±ä¸éœ€è¦äº¤æ¢äº†ã€‚
         *
         * å½“æŠŠæ‰€æœ‰çš„iéƒ½éå†ä¸€éä¹‹åï¼Œå°±å®Œæˆäº†â€œåŠ›æ‰€èƒ½åŠâ€çš„æ’åºï¼Œæ„æ€å°±æ˜¯numsé‡Œé¢æ‰€æœ‰å¤„äº1~Nä¹‹é—´çš„æ•°ï¼Œéƒ½å·²ç»åœ¨å®ƒè§„å®šçš„ä½ç½®ä¸Šäº†ã€‚å¦‚å‰æ‰€è¿°ï¼Œæ­¤æ—¶ä»å¤´åˆ°å°¾å†éå†ä¸€énumsï¼Œæ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªnums[i]!=içš„æ•°ï¼Œå°±æ˜¯åŸå…ˆnumsé‡Œé¢1~Nä¹‹é—´æ‰€ç¼ºå¤±çš„æ•°ã€‚
         *
         * å’Œæœ¬é¢˜éå¸¸ç›¸ä¼¼çš„è¿˜æœ‰:
         *
         * 287.Find the Duplicate Number
         * 442.Find-All-Duplicates-in-an-Array
         * 448.Find-All-Numbers-Disappeared-in-an-Array
         * 645.Set Mismatchï¼Œ
         * ä¹Ÿç”¨åˆ°äº†array indexing.
         *
         */
        public int firstMissingPositive(int[] nums) {
            int len = nums.length;

            //indexing sort
            // å¯¹äº nums[i] > 0 && nums[i] < len å€¼<lençš„å…ƒç´ ï¼Œ
            // å¯¹numsæ’åºï¼Œæˆ‘ä»¬æœŸæœ› index içš„å…ƒç´ num[i]ï¼Œåœ¨æ’åºåçš„å€¼ä¸ºnums[i] - 1 (index ä»0å¼€å§‹)
            //å³ index ï¼š0ï¼Œ1ï¼Œ2ï¼Œ3ï¼Œ4 å¯¹åº”çš„çš„nums[i]åº”è¯¥ä¸ºï¼š
            //        ã€1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ã€‘ï¼Œ ä¹Ÿå°±æ˜¯ç´¢å¼•ä¸ nums[i]çš„å…³ç³»æ˜¯ï¼š i = nums[i]-1ï¼Œ

            //å³å¦‚æœnum[i]æ²¡æ”¾åœ¨æ­£ç¡®çš„æ’åºä½ç½®ä¸Šï¼Œ
            // åˆ™éœ€è¦ while æŒç»­äº¤æ¢éœ€è¦äº¤æ¢ä½ç½®ï¼Œç›´åˆ°å½“å‰å…ƒç´ ç›´åˆ°æ»¡è¶³æ¡ä»¶
            for (int i = 0; i < len; i++) {
                //åªéœ€è¦å¯¹ ç¬¦åˆã€1ï¼Œnã€‘çš„å…ƒç´ æ’åºï¼Œç´¢å¼•è¦åŠ ä¸Šæ¡ä»¶ï¼šnums[i] > 0 && nums[i] < len
                while (nums[i] > 0 && nums[i] < len && nums[i] != nums[nums[i] - 1]) {
                    //å¦‚æœæ²¡æœ‰æ”¾åœ¨æ­£ç¡®çš„ä½ç½®ä¸Šï¼Œåˆ™éœ€è¦æŠŠå…ƒç´ ï¼ˆindex ä¸ºï¼š nums[i]-1 ï¼‰ï¼Œæ”¾åˆ°æ­£ç¡®ä½ç½®ä¸Šï¼ˆ index ä¸ºiï¼‰
                    //å³æ­£ç¡®ä½ç½®æ˜¯æ»¡è¶³å€¼ï¼šnums[i] == nums[nums[i] - 1]ï¼Œç´¢å¼•i = nums[i] - 1çš„ç‰¹å¾
                    swap(nums, i, nums[i] - 1);
                }
            }

            //check for the first missing positive integer
            for (int i = 0; i < len; i++) {
                if (nums[i] != i + 1) {
                    return i + 1;
                }
            }
            //è¾¹ç•Œæƒ…å†µï¼š
            //å¦‚æœæ‰€æœ‰ä» 1 åˆ° n çš„æ•°å­—éƒ½å­˜åœ¨ï¼Œç­”æ¡ˆå°±n+1
            return len + 1;
        }

        private void swap(int[] nums, int i, int j) {
            int temp = nums[i];
            nums[i] = nums[j];
            nums[j] = temp;
        }
        /**
         * æ—¶é—´å¤æ‚åº¦åˆ†æ
         * çœ‹ä¼¼æ˜¯åµŒå¥—å¾ªç¯
         * forå¾ªç¯å†…éƒ¨ç¡®å®åŒ…å«äº†ä¸€ä¸ªwhileå¾ªç¯ï¼Œè¿™é€šå¸¸ä¼šè®©äººè®¤ä¸ºæ—¶é—´å¤æ‚åº¦å¯èƒ½æ˜¯O(n^2)ã€‚
         * å®é™…æ‰§è¡Œæ¬¡æ•°
         * ç„¶è€Œï¼Œä»”ç»†åˆ†æä¼šå‘ç°ï¼Œwhileå¾ªç¯ä¸­çš„äº¤æ¢æ“ä½œå®é™…ä¸Šå¹¶ä¸ä¼šæ‰§è¡Œnæ¬¡ã€‚
         * æ¯ä¸ªå…ƒç´ æœ€å¤šäº¤æ¢ä¸€æ¬¡
         * æ¯æ¬¡äº¤æ¢éƒ½ä¼šå°†ä¸€ä¸ªæ•°æ”¾åˆ°å®ƒæ­£ç¡®çš„ä½ç½®ä¸Šï¼ˆç´¢å¼•ä¸ºvalue-1çš„ä½ç½®ï¼‰ã€‚
         * ä¸€æ—¦ä¸€ä¸ªæ•°è¢«æ”¾åˆ°æ­£ç¡®çš„ä½ç½®ï¼Œå®ƒå°±ä¸ä¼šå†è¢«ç§»åŠ¨ã€‚
         * æ€»äº¤æ¢æ¬¡æ•°ä¸è¶…è¿‡n
         * æ•°ç»„ä¸­æœ‰nä¸ªå…ƒç´ ã€‚
         * æ¯ä¸ªå…ƒç´ æœ€å¤šè¢«äº¤æ¢ä¸€æ¬¡ã€‚
         * å› æ­¤ï¼Œæ€»çš„äº¤æ¢æ¬¡æ•°ä¸ä¼šè¶…è¿‡næ¬¡ã€‚
         * forå¾ªç¯çš„ä½œç”¨
         * forå¾ªç¯ä¸»è¦æ˜¯ç”¨æ¥éå†æ•°ç»„ï¼Œç¡®ä¿æ¯ä¸ªä½ç½®éƒ½è¢«æ£€æŸ¥è¿‡ã€‚
         * whileå¾ªç¯çš„ä½œç”¨
         * whileå¾ªç¯è´Ÿè´£å°†å½“å‰å…ƒç´ äº¤æ¢åˆ°æ­£ç¡®çš„ä½ç½®ï¼Œç›´åˆ°å½“å‰ä½ç½®å­˜æ”¾äº†æ­£ç¡®çš„æ•°ï¼Œæˆ–è€…ä¸éœ€è¦å†äº¤æ¢ã€‚
         * ç»“è®º
         * è™½ç„¶ä»£ç ä¸­æœ‰åµŒå¥—å¾ªç¯ï¼Œä½†å®é™…ä¸Šï¼š
         * å¤–å±‚forå¾ªç¯æ‰§è¡Œnæ¬¡
         * å†…å±‚whileå¾ªç¯ä¸­çš„äº¤æ¢æ“ä½œæ€»å…±ä¸ä¼šè¶…è¿‡næ¬¡
         * å› æ­¤ï¼Œæ€»çš„æ“ä½œæ¬¡æ•°æ˜¯O(n) + O(n) = O(n)ï¼Œä¿æŒäº†çº¿æ€§æ—¶é—´å¤æ‚åº¦ã€‚
         * è¿™ç§ç®—æ³•å·§å¦™åœ°åˆ©ç”¨äº†é—®é¢˜çš„ç‰¹æ€§ï¼Œé€šè¿‡åŸåœ°äº¤æ¢çš„æ–¹å¼ï¼Œç”¨O(1)çš„é¢å¤–ç©ºé—´å°±å®ç°äº†O(n)çš„æ—¶é—´å¤æ‚åº¦ï¼Œæ˜¯ä¸€ä¸ªéå¸¸ç²¾å¦™çš„è§£æ³•ã€‚
         * */
    }
//leetcode submit region end(Prohibit modification and deletion)

}